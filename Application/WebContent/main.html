<!DOCTYPE html>
<html>
<head>
        <meta charset="utf-8" />
        <title>Nosliw Go Go !!</title>

        <script src="libresources/external/Underscore/1.6.0/underscore.js"></script>
        <script src="libresources/external/Backbone/1.1.2/backbone.js"></script>
        <script src="libresources/external/jQuery/2.1.0/jquery.js"></script>
        <script src="libresources/external/log4javascript/1.0.0/log4javascript.js"></script>
        <script src="libresources/nosliw/core/nosliw.js"></script>
        <script src="libresources/nosliw/runtimebrowserinit/init.js"></script>

        
</head>

<body>
	    aaaaa

	<div id="testDiv">
	</div>

</body>

<script>
	
	nosliw.registerNodeEvent("runtime", "active", function(eventName, nodeName){
		
		nosliw.logging.info(nodeName + "    " + eventName );
/*
		var resourceUtility = nosliw.getNodeData("resource.utility");
		
		nosliw.runtime.getResourceService().executeGetResourcesRequest([resourceUtility.createOperationResourceId("test.string;1.0.0", "subString")], 
				{
					success : function(request, resources){
						nosliw.logging.info(JSON.stringify(resources));
					}
				}, undefined);
*/		
		
		//discovery resources
/*		
		nosliw.runtime.getGateway().requestDiscoverResources(
				[resourceUtility.createOperationResourceId("test.string;1.0.0", "subString")], 
				{
					success : function(request, resourceInfos){
						console.log(JSON.stringify(resourceInfos));

						nosliw.runtime.getGateway().requestLoadResources(resourceInfos, {
							success : function(request, resources){
								
							}
						});
					}
				}
		);
		*/

		var expressionRequest = {
			suite : "expression6",
			expressionName : "main",
			
		};
		
		nosliw.runtime.getGateway().getExpressions(
				[expressionRequest], 
				{
					success : function(request, expressionResponses){
						var expressionResponse = expressionResponses[0];
						nosliw.runtime.getExpressionService().executeExecuteExpressionRequest(expressionResponse.expression, expressionResponse.variablesValue, 
							{
								success : function(requestInfo, result){
									nosliw.logging.info(JSON.stringify(result));
								}	
							}, undefined);
						
					}
				}
		);
		
		
	});
</script>
</html>
