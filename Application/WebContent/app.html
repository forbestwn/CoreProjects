<!DOCTYPE html>
<html>
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<!--         <meta charset="utf-8" /> -->
        <title>Nosliw Go Go !!</title>

    	<link rel="stylesheet" href="libresources/external/framework7/css/framework7.bundle.min.css">
        <script src="libresources/external/framework7/4.3.1/framework7.bundle.js"></script>
        <script src="libresources/external/jQuery/2.1.0/jquery.js"></script>
        
        <script src="libresources/external/log4javascript/1.0.0/log4javascript.js"></script>
		<script src="libresources/nosliw/runtimebrowserinit/init.js"></script>

		<meta name="viewport" content="width=device-width, initial-scale=1">

</head>

<body>
	<div class="panel panel-left panel-cover">
  		<div class="view panel-view block" id="debugDiv">
			<div id="lifecycleDebug"></div>
			<div id="resetDebug"></div>
			<div id="inputDebug"></div>
			<div id="dataDebug"></div>
			<div id="eventDebug"></div>
       	</div>
   	</div>

	<div id="appModuleDiv"></div>

	<div class="panel panel-right panel-cover">
     	<div class="block" id="settingModuleDiv" style="overflow-y:scroll; height:800px"></div>
   	</div>
</body>

<script>

//when nosliw active
$(document).on("nosliwActive", function(){
	var node_COMMONCONSTANT = nosliw.getNodeData("constant.COMMONCONSTANT");
	var node_COMMONATRIBUTECONSTANT = nosliw.getNodeData("constant.COMMONATRIBUTECONSTANT");
	var node_getStoreService = nosliw.getNodeData("component.getStoreService");
	var node_createDebugTool = nosliw.getNodeData("component.debug.createDebugTool");
	var node_createAppConfigure = nosliw.getNodeData("uiapp.createAppConfigure");
	var node_createRequestStatusIndicatorUI = nosliw.getNodeData("request.ui.createRequestStatusIndicatorUI");
	var node_basicUtility = nosliw.getNodeData("common.utility.basicUtility");
	var node_appDataService = nosliw.getNodeData("uiapp.appDataService");

	var parms = node_basicUtility.getParmsInUrl();

	var framework7App = new Framework7({
		  // App root element
		  root: $("#appModuleDiv").get(),
		  name: 'My App',
		  id: 'com.myapp.test',
		  panel: {
			    swipe: 'both',
		  },		
	});
		
	var configure = node_createAppConfigure(
			"application", 
			{
				mainModuleRoot : $('#appModuleDiv').get(),
				settingModuleRoot : $('#settingModuleDiv').get(),
				storeService : nosliw.runtime.getStoreService(),
				dataService : node_appDataService,
				framework7App : framework7App
			}
	);

	node_createDebugTool({
			lifecycleView : $('#lifecycleDebug').get(),
			dataView : $('#dataDebug').get(),
			eventView : $('#eventDebug').get(),
			resetView : $('#resetDebug').get(), 
		}, node_COMMONCONSTANT.RUNTIME_RESOURCE_TYPE_UIAPPENTRY, parms.app, undefined, configure);
	

	//ui indicator
	node_createRequestStatusIndicatorUI(framework7App);
});

nosliw.init();

</script>

</html>
