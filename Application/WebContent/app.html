<!DOCTYPE html>
<html>
<head>
        <meta charset="utf-8" />
        <title>Nosliw Go Go !!</title>

    	<link rel="stylesheet" href="libresources/external/framework7/css/framework7.bundle.min.css">
        <script src="libresources/external/jQuery/2.1.0/jquery.js"></script>
        <script src="libresources/external/framework7/4.1.1/framework7.js"></script>
        
        <script src="libresources/external/log4javascript/1.0.0/log4javascript.js"></script>
		<script src="libresources/nosliw/runtimebrowserinit/init.js"></script>

		<meta name="viewport" content="width=device-width, initial-scale=1">

</head>

<body>
	<div id="appDiv">
		<div class="panel panel-left panel-cover">
      		<div class="content-block" id="userInfoDiv">Hello</div>
    	</div>

		<div class="view view-main" id="appModuleDiv"></div>
		
		<div class="panel panel-right panel-cover">
      		<div class="view panel-view" id="settingModuleDiv"></div>
    	</div>
	</div>

</body>

<script>

$(document).on("nosliwActive", function(){
	var node_createServiceRequestInfoSequence = nosliw.getNodeData("request.request.createServiceRequestInfoSequence");
	var node_requestServiceProcessor = nosliw.getNodeData("request.requestServiceProcessor");
	var node_COMMONCONSTANT = nosliw.getNodeData("constant.COMMONCONSTANT");
	var node_COMMONATRIBUTECONSTANT = nosliw.getNodeData("constant.COMMONATRIBUTECONSTANT");

    // Our initialization code here
	var currentSearchString = window.location.search;
	var appEntryId = currentSearchString.substring(currentSearchString.indexOf("=")+1);

	var appStatelessData = {
		nodes : {
			application : $('#appModuleDiv'),
			setting : $('#settingModuleDiv'),
		},
		app : new Framework7({
			  // App root element
			  root: $("#appDiv").get(),
			  name: 'My App',
			  id: 'com.myapp.test',
			  panel: {
				    swipe: 'both',
			  },		
		})
	};
	
	//create module runtime
	nosliw.runtime.getUIAppService().executeGetUIAppEntryRuntimeRequest(appEntryId, "application_normal", appStatelessData,
		{
			success : function(requestInfo, uiAppRuntime){
				uiAppRuntime.executeStartRequest();			
			}
		}
	);

});

nosliw.init();
</script>

</html>
