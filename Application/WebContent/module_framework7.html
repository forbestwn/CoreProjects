<!DOCTYPE html>
<html>
<head>
        <meta charset="utf-8" />
        <title>Nosliw Go Go !!</title>

    	<link rel="stylesheet" href="libresources/external/framework7/css/framework7.bundle.min.css">
        <script src="libresources/external/framework7/4.3.1/framework7.bundle.js"></script>
        <script src="libresources/external/jQuery/3.4.1/jquery.js"></script>
        
        <script src="libresources/external/log4javascript/1.0.0/log4javascript.js"></script>
		<script src="libresources/nosliw/runtimebrowserinit/init.js"></script>

 		<meta name="viewport" content="width=device-width, initial-scale=1"> 

</head>

<body>
		<div class="panel panel-left panel-cover">
      		<div class="view panel-view block" id="debugDiv1">
				<div id="lifecycleDebug"></div>
				<div id="resetDebug"></div>
         	</div>
    	</div>

		<div id="moduleDiv"></div>
	
		<div class="panel panel-right panel-cover">
      		<div class="block" id="debugDiv2">
				<div id="dataDebug"></div>
				<div id="eventDebug"></div>
         	</div>
    	</div>
	
</body>

<script>


$(document).on("nosliwActive", function(){

var node_COMMONCONSTANT = nosliw.getNodeData("constant.COMMONCONSTANT");
var node_COMMONATRIBUTECONSTANT = nosliw.getNodeData("constant.COMMONATRIBUTECONSTANT");
var node_getStoreService = nosliw.getNodeData("component.getStoreService");
var node_createDebugTool = nosliw.getNodeData("component.debug.createDebugTool");
var node_createModuleConfigure = nosliw.getNodeData("uimodule.createModuleConfigure");


var parms = {};
var searchParams = new URLSearchParams(window.location.search);
for (let p of searchParams) {
	parms[p[0]] = p[1];
}

	
var configure = node_createModuleConfigure(
		$('#moduleDiv').get(), 
		node_getStoreService(), 
		parms.setting, 
		{
			framework7App : new Framework7({
				  // App root element
				  root: $("#moduleDiv").get(),
				  name: 'My App',
				  id: 'com.myapp.test',
				  panel: {
					    swipe: 'both',
				  },		
			}), 
		}
);

node_createDebugTool({
		lifecycleView : $('#lifecycleDebug').get(),
		dataView : $('#dataDebug').get(),
		eventView : $('#eventDebug').get(),
		resetView : $('#resetDebug').get(), 
	}, node_COMMONCONSTANT.RUNTIME_RESOURCE_TYPE_UIMODULE, parms.module, undefined, configure);
});

nosliw.init();
</script>

</html>
